<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yelgin Aerospace - Dosya Deposu</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; background: #f4f4f4; }
        h1 { border-bottom: 2px solid #333; padding-bottom: 10px; }
        #file-list { list-style: none; padding: 0; }
        .file-item { 
            background: white; 
            margin: 10px 0; 
            padding: 15px; 
            border-radius: 8px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
        }
        .file-item a { text-decoration: none; color: #007bff; font-weight: bold; }
        .file-item a:hover { text-decoration: underline; }
        .file-size { color: #666; font-size: 0.9em; }
    </style>
</head>
<body>

    <h1>ðŸ“‚ AÃ§Ä±k Depo AlanÄ±</h1>
    <p>Buradaki dosyalar GitHub repomdan otomatik Ã§ekilmektedir.</p>
    
    <ul id="file-list">
        <li>YÃ¼kleniyor...</li>
    </ul>

    <script>
        // AYARLAR
        const USER = 'YelginAerospace';
        const REPO = 'website';
        const FOLDER = 'depo'; // Repodaki klasÃ¶r adÄ±

        // GitHub API URL'si
        const API_URL = `https://api.github.com/repos/${USER}/${REPO}/contents/${FOLDER}`;

        async function listFiles() {
            const listElement = document.getElementById('file-list');
            
            try {
                const response = await fetch(API_URL);
                if (!response.ok) throw new Error('KlasÃ¶r bulunamadÄ± veya API hatasÄ±.');
                
                const data = await response.json();
                
                // Listeyi temizle
                listElement.innerHTML = '';

                data.forEach(file => {
                    // Sadece dosyalarÄ± listele (klasÃ¶rleri atla)
                    if (file.type === 'file') {
                        const li = document.createElement('li');
                        li.className = 'file-item';
                        
                        // Dosya boyutunu KB/MB Ã§evir
                        const size = file.size > 1024 * 1024 
                            ? (file.size / (1024 * 1024)).toFixed(2) + ' MB'
                            : (file.size / 1024).toFixed(2) + ' KB';

                        // Ä°ndirme Linki (Raw content veya GitHub sayfasÄ±)
                        // download_url direkt dosyayÄ± indirir.
                        li.innerHTML = `
                            <a href="${file.download_url}" target="_blank">ðŸ“„ ${file.name}</a>
                            <span class="file-size">${size}</span>
                        `;
                        listElement.appendChild(li);
                    }
                });

                if (data.length === 0) {
                    listElement.innerHTML = '<li>KlasÃ¶r boÅŸ.</li>';
                }

            } catch (error) {
                console.error(error);
                listElement.innerHTML = `<li style="color:red;">Hata: Dosyalar Ã§ekilemedi. (${error.message})</li>`;
            }
        }

        // Sayfa aÃ§Ä±lÄ±nca Ã§alÄ±ÅŸtÄ±r
        listFiles();
    </script>

</body>
</html>